{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pokly\\\\OneDrive\\\\Desktop\\\\\\uACBD\\uC9C4\\\\9oods-front\\\\src\\\\component\\\\todo\\\\todoItem\\\\index.jsx\",\n  _s = $RefreshSig$();\n/** @jsxImportSource @emotion/react */\nimport { memo, useCallback, useContext, useState } from \"react\";\nimport { MdDone } from \"@react-icons/all-files/md/MdDone\";\nimport { ToastContainer } from \"react-toastify\";\nimport notice from \"../../../utils/noticeUtils\";\nimport * as todoItemStyle from \"./style\";\nimport { dispatchContext } from \"../../../context/TodoContext\";\nimport { deleteTodoApi, updateTodoApi } from \"../../../api/todo\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"@emotion/react/jsx-dev-runtime\";\nconst TodoItem = ({\n  list\n}) => {\n  _s();\n  const [modifyToggle, setModifyToggle] = useState(false);\n  const [content, setContent] = useState(list);\n  const dispatch = useContext(dispatchContext);\n  const handleTodoUpdate = useCallback(content => {\n    updateTodoApi(content.id, content.todo, content.isCompleted).then(res => {\n      dispatch({\n        type: \"EDIT\",\n        todo: res.data\n      });\n    }).catch(err => {\n      throw new Error(err);\n    });\n  }, [list, content]);\n  const handleTodoDelete = useCallback(id => {\n    deleteTodoApi(id).then(res => {\n      dispatch({\n        type: \"DELETE\",\n        id\n      });\n    }).catch(err => {\n      throw new Error(err);\n    });\n  }, [list]);\n  const onInputChange = useCallback(e => {\n    setContent({\n      ...content,\n      todo: e.target.value\n    });\n  }, [content]);\n  const onCheckClick = () => {\n    setContent({\n      ...content,\n      isCompleted: !list.isCompleted\n    });\n    handleTodoUpdate({\n      ...content,\n      isCompleted: !list.isCompleted\n    });\n  };\n  const handleCompleteBtnClick = () => {\n    if (!content.todo) {\n      notice(\"error\", \"할 일을 입력해 주세요\");\n      return;\n    }\n    handleTodoUpdate(content);\n    setModifyToggle(false);\n  };\n  const handleCancelBtnClick = () => {\n    setContent({\n      ...content,\n      todo: list.todo\n    });\n    setModifyToggle(false);\n  };\n  return _jsxDEV(\"div\", {\n    css: todoItemStyle.todoListContainer,\n    children: [modifyToggle ? _jsxDEV(_Fragment, {\n      children: [_jsxDEV(\"div\", {\n        css: todoItemStyle.hiddencheckCircle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), _jsxDEV(\"input\", {\n        defaultValue: list.todo,\n        autoFocus: true,\n        css: todoItemStyle.inputCss,\n        onChange: onInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), _jsxDEV(\"button\", {\n        onClick: handleCompleteBtnClick,\n        css: todoItemStyle.customButton,\n        children: \"\\uC644\\uB8CC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), _jsxDEV(\"button\", {\n        css: todoItemStyle.basicButton,\n        onClick: handleCancelBtnClick,\n        children: \"\\uCDE8\\uC18C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : _jsxDEV(_Fragment, {\n      children: [_jsxDEV(todoItemStyle.CheckBox, {\n        isCompleted: list.isCompleted,\n        onClick: e => onCheckClick(e),\n        children: list.isCompleted && _jsxDEV(MdDone, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), _jsxDEV(todoItemStyle.ContentDiv, {\n        isCompleted: list.isCompleted,\n        children: content.todo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), _jsxDEV(\"button\", {\n        onClick: () => setModifyToggle(true),\n        css: todoItemStyle.customButton,\n        children: \"\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), _jsxDEV(\"button\", {\n        css: todoItemStyle.basicButton,\n        onClick: () => {\n          handleTodoDelete(content.id);\n        },\n        children: \"\\uC0AD\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), _jsxDEV(ToastContainer, {\n      position: \"top-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(TodoItem, \"sMLklho4WDnSdidfRWFsdR496iw=\");\n_c = TodoItem;\nexport default _c2 = /*#__PURE__*/memo(TodoItem);\nvar _c, _c2;\n$RefreshReg$(_c, \"TodoItem\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["memo","useCallback","useContext","useState","MdDone","ToastContainer","notice","todoItemStyle","dispatchContext","deleteTodoApi","updateTodoApi","jsxDEV","_jsxDEV","Fragment","_Fragment","TodoItem","list","_s","modifyToggle","setModifyToggle","content","setContent","dispatch","handleTodoUpdate","id","todo","isCompleted","then","res","type","data","catch","err","Error","handleTodoDelete","onInputChange","e","target","value","onCheckClick","handleCompleteBtnClick","handleCancelBtnClick","css","todoListContainer","children","hiddencheckCircle","fileName","_jsxFileName","lineNumber","columnNumber","defaultValue","autoFocus","inputCss","onChange","onClick","customButton","basicButton","CheckBox","ContentDiv","position","_c","_c2","$RefreshReg$"],"sources":["C:/Users/pokly/OneDrive/Desktop/경진/9oods-front/src/component/todo/todoItem/index.jsx"],"sourcesContent":["/** @jsxImportSource @emotion/react */\nimport { memo, useCallback, useContext, useState } from \"react\";\nimport { MdDone } from \"@react-icons/all-files/md/MdDone\";\nimport { ToastContainer } from \"react-toastify\";\nimport notice from \"../../../utils/noticeUtils\";\nimport * as todoItemStyle from \"./style\";\nimport { dispatchContext } from \"../../../context/TodoContext\";\nimport { deleteTodoApi, updateTodoApi } from \"../../../api/todo\";\n\nconst TodoItem = ({ list }) => {\n  const [modifyToggle, setModifyToggle] = useState(false);\n  const [content, setContent] = useState(list);\n\n  const dispatch = useContext(dispatchContext);\n\n  const handleTodoUpdate = useCallback(\n    (content) => {\n      updateTodoApi(content.id, content.todo, content.isCompleted)\n        .then((res) => {\n          dispatch({ type: \"EDIT\", todo: res.data });\n        })\n        .catch((err) => {\n          throw new Error(err);\n        });\n    },\n    [list, content]\n  );\n\n  const handleTodoDelete = useCallback(\n    (id) => {\n      deleteTodoApi(id)\n        .then((res) => {\n          dispatch({ type: \"DELETE\", id });\n        })\n        .catch((err) => {\n          throw new Error(err);\n        });\n    },\n    [list]\n  );\n\n  const onInputChange = useCallback(\n    (e) => {\n      setContent({ ...content, todo: e.target.value });\n    },\n    [content]\n  );\n\n  const onCheckClick = () => {\n    setContent({ ...content, isCompleted: !list.isCompleted });\n    handleTodoUpdate({ ...content, isCompleted: !list.isCompleted });\n  };\n\n  const handleCompleteBtnClick = () => {\n    if (!content.todo) {\n      notice(\"error\", \"할 일을 입력해 주세요\");\n      return;\n    }\n    handleTodoUpdate(content);\n    setModifyToggle(false);\n  };\n\n  const handleCancelBtnClick = () => {\n    setContent({ ...content, todo: list.todo });\n    setModifyToggle(false);\n  };\n\n  return (\n    <div css={todoItemStyle.todoListContainer}>\n      {modifyToggle ? (\n        <>\n          <div css={todoItemStyle.hiddencheckCircle}></div>\n          <input\n            defaultValue={list.todo}\n            autoFocus\n            css={todoItemStyle.inputCss}\n            onChange={onInputChange}\n          />\n          <button onClick={handleCompleteBtnClick} css={todoItemStyle.customButton}>\n            완료\n          </button>\n          <button css={todoItemStyle.basicButton} onClick={handleCancelBtnClick}>\n            취소\n          </button>\n        </>\n      ) : (\n        <>\n          <todoItemStyle.CheckBox isCompleted={list.isCompleted} onClick={(e) => onCheckClick(e)}>\n            {list.isCompleted && <MdDone />}\n          </todoItemStyle.CheckBox>\n          <todoItemStyle.ContentDiv isCompleted={list.isCompleted}>\n            {content.todo}\n          </todoItemStyle.ContentDiv>\n\n          <button onClick={() => setModifyToggle(true)} css={todoItemStyle.customButton}>\n            수정\n          </button>\n          <button\n            css={todoItemStyle.basicButton}\n            onClick={() => {\n              handleTodoDelete(content.id);\n            }}\n          >\n            삭제\n          </button>\n        </>\n      )}\n      <ToastContainer position=\"top-right\" />\n    </div>\n  );\n};\n\nexport default memo(TodoItem);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}