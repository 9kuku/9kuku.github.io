{"ast":null,"code":"var _jsxFileName = \"/Users/josujin/Downloads/todo_nbcamp/src/component/todo/todoItem/index.jsx\",\n  _s = $RefreshSig$();\n/** @jsxImportSource @emotion/react */\nimport { memo, useCallback, useContext, useState } from \"react\";\nimport { MdDone } from \"@react-icons/all-files/md/MdDone\";\nimport { ToastContainer } from \"react-toastify\";\nimport notice from \"../../../utils/noticeUtils\";\nimport * as todoItemStyle from \"./style\";\nimport { dispatchContext } from \"../../../context/TodoContext\";\nimport { deleteTodoApi, updateTodoApi } from \"../../../api/todo\";\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"@emotion/react/jsx-dev-runtime\";\nconst TodoItem = _ref => {\n  _s();\n  let {\n    list\n  } = _ref;\n  const [modifyToggle, setModifyToggle] = useState(false);\n  const [content, setContent] = useState(list);\n  const dispatch = useContext(dispatchContext);\n  const handleTodoUpdate = useCallback(content => {\n    updateTodoApi(content.id, content.todo, content.isCompleted).then(res => {\n      dispatch({\n        type: \"EDIT\",\n        todo: res.data\n      });\n    }).catch(err => {\n      throw new Error(err);\n    });\n  }, [list, content]);\n  const handleTodoDelete = useCallback(id => {\n    deleteTodoApi(id).then(res => {\n      dispatch({\n        type: \"DELETE\",\n        id\n      });\n    }).catch(err => {\n      throw new Error(err);\n    });\n  }, [list]);\n  const onInputChange = useCallback(e => {\n    setContent({\n      ...content,\n      todo: e.target.value\n    });\n  }, [content]);\n  const onCheckClick = () => {\n    setContent({\n      ...content,\n      isCompleted: !list.isCompleted\n    });\n    handleTodoUpdate({\n      ...content,\n      isCompleted: !list.isCompleted\n    });\n  };\n  const handleCompleteBtnClick = () => {\n    if (!content.todo) {\n      notice(\"error\", \"할 일을 입력해 주세요\");\n      return;\n    }\n    handleTodoUpdate(content);\n    setModifyToggle(false);\n  };\n  const handleCancelBtnClick = () => {\n    setContent({\n      ...content,\n      todo: list.todo\n    });\n    setModifyToggle(false);\n  };\n  return _jsxDEV(\"div\", {\n    css: todoItemStyle.todoListContainer,\n    children: [modifyToggle ? _jsxDEV(_Fragment, {\n      children: [_jsxDEV(\"div\", {\n        css: todoItemStyle.hiddencheckCircle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), _jsxDEV(\"input\", {\n        defaultValue: list.todo,\n        autoFocus: true,\n        css: todoItemStyle.inputCss,\n        onChange: onInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), _jsxDEV(\"button\", {\n        onClick: handleCompleteBtnClick,\n        css: todoItemStyle.customButton,\n        children: \"\\uC644\\uB8CC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), _jsxDEV(\"button\", {\n        css: todoItemStyle.basicButton,\n        onClick: handleCancelBtnClick,\n        children: \"\\uCDE8\\uC18C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : _jsxDEV(_Fragment, {\n      children: [_jsxDEV(todoItemStyle.CheckBox, {\n        isCompleted: list.isCompleted,\n        onClick: e => onCheckClick(e),\n        children: list.isCompleted && _jsxDEV(MdDone, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), _jsxDEV(todoItemStyle.ContentDiv, {\n        isCompleted: list.isCompleted,\n        children: content.todo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), _jsxDEV(\"button\", {\n        onClick: () => setModifyToggle(true),\n        css: todoItemStyle.customButton,\n        children: \"\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), _jsxDEV(\"button\", {\n        css: todoItemStyle.basicButton,\n        onClick: () => {\n          handleTodoDelete(content.id);\n        },\n        children: \"\\uC0AD\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), _jsxDEV(ToastContainer, {\n      position: \"top-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(TodoItem, \"sMLklho4WDnSdidfRWFsdR496iw=\");\n_c = TodoItem;\nexport default _c2 = /*#__PURE__*/memo(TodoItem);\nvar _c, _c2;\n$RefreshReg$(_c, \"TodoItem\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["memo","useCallback","useContext","useState","MdDone","ToastContainer","notice","todoItemStyle","dispatchContext","deleteTodoApi","updateTodoApi","TodoItem","list","modifyToggle","setModifyToggle","content","setContent","dispatch","handleTodoUpdate","id","todo","isCompleted","then","res","type","data","catch","err","Error","handleTodoDelete","onInputChange","e","target","value","onCheckClick","handleCompleteBtnClick","handleCancelBtnClick","todoListContainer","hiddencheckCircle","inputCss","customButton","basicButton"],"sources":["/Users/josujin/Downloads/todo_nbcamp/src/component/todo/todoItem/index.jsx"],"sourcesContent":["/** @jsxImportSource @emotion/react */\nimport { memo, useCallback, useContext, useState } from \"react\";\nimport { MdDone } from \"@react-icons/all-files/md/MdDone\";\nimport { ToastContainer } from \"react-toastify\";\nimport notice from \"../../../utils/noticeUtils\";\nimport * as todoItemStyle from \"./style\";\nimport { dispatchContext } from \"../../../context/TodoContext\";\nimport { deleteTodoApi, updateTodoApi } from \"../../../api/todo\";\n\nconst TodoItem = ({ list }) => {\n  const [modifyToggle, setModifyToggle] = useState(false);\n  const [content, setContent] = useState(list);\n\n  const dispatch = useContext(dispatchContext);\n\n  const handleTodoUpdate = useCallback(\n    (content) => {\n      updateTodoApi(content.id, content.todo, content.isCompleted)\n        .then((res) => {\n          dispatch({ type: \"EDIT\", todo: res.data });\n        })\n        .catch((err) => {\n          throw new Error(err);\n        });\n    },\n    [list, content]\n  );\n\n  const handleTodoDelete = useCallback(\n    (id) => {\n      deleteTodoApi(id)\n        .then((res) => {\n          dispatch({ type: \"DELETE\", id });\n        })\n        .catch((err) => {\n          throw new Error(err);\n        });\n    },\n    [list]\n  );\n\n  const onInputChange = useCallback(\n    (e) => {\n      setContent({ ...content, todo: e.target.value });\n    },\n    [content]\n  );\n\n  const onCheckClick = () => {\n    setContent({ ...content, isCompleted: !list.isCompleted });\n    handleTodoUpdate({ ...content, isCompleted: !list.isCompleted });\n  };\n\n  const handleCompleteBtnClick = () => {\n    if (!content.todo) {\n      notice(\"error\", \"할 일을 입력해 주세요\");\n      return;\n    }\n    handleTodoUpdate(content);\n    setModifyToggle(false);\n  };\n\n  const handleCancelBtnClick = () => {\n    setContent({ ...content, todo: list.todo });\n    setModifyToggle(false);\n  };\n\n  return (\n    <div css={todoItemStyle.todoListContainer}>\n      {modifyToggle ? (\n        <>\n          <div css={todoItemStyle.hiddencheckCircle}></div>\n          <input\n            defaultValue={list.todo}\n            autoFocus\n            css={todoItemStyle.inputCss}\n            onChange={onInputChange}\n          />\n          <button onClick={handleCompleteBtnClick} css={todoItemStyle.customButton}>\n            완료\n          </button>\n          <button css={todoItemStyle.basicButton} onClick={handleCancelBtnClick}>\n            취소\n          </button>\n        </>\n      ) : (\n        <>\n          <todoItemStyle.CheckBox isCompleted={list.isCompleted} onClick={(e) => onCheckClick(e)}>\n            {list.isCompleted && <MdDone />}\n          </todoItemStyle.CheckBox>\n          <todoItemStyle.ContentDiv isCompleted={list.isCompleted}>\n            {content.todo}\n          </todoItemStyle.ContentDiv>\n\n          <button onClick={() => setModifyToggle(true)} css={todoItemStyle.customButton}>\n            수정\n          </button>\n          <button\n            css={todoItemStyle.basicButton}\n            onClick={() => {\n              handleTodoDelete(content.id);\n            }}\n          >\n            삭제\n          </button>\n        </>\n      )}\n      <ToastContainer position=\"top-right\" />\n    </div>\n  );\n};\n\nexport default memo(TodoItem);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}